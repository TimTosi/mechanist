# DYNOMITE.CONF
# --
# This file is the default configuration file for the Dynomite services.
#
# All existing keys are listed here.
# For default values, have a look at ``.
dyn_o_mite:
    # Specify environment of a node.
    #
    # NOTE: Currently supports `aws` and `network` (for physical datacenter).
    env: 'network'

    # The name of the datacenter.
    datacenter: 'dc-01'

    # The name of the rack.
    rack: 'rack-01'

    # The port that dynomite nodes use to inter-communicate and gossip.
    dyn_listen: 0.0.0.0:8101

    # The sleeping time in milliseconds at the end of a gossip round.
    gos_interval: 30000

    # The token(s) owned by a node.
    #
    # NOTE: Currently, vnode are not supported so this only works with one token
    # for the time being.
    tokens: '101134286'

    # The listening address and port for this server pool.
    #
    # NOTE: Must be of the form `name:port` or `ip:port`.
    listen: 0.0.0.0:8102

    # The timeout value in ms that we wait for to establish a connection to
    # the server or receive a response from a server.
    #
    # NOTE: By default, we wait indefinitely.
    timeout: 10

    # A boolean value that controls if dynomite should preconnect to all the
    # servers in this pool on process start.
    #
    # NOTE: Defaults to `false`.
    preconnect: false

    # An integer value that controls if a server pool speaks redis `0` or
    # memcached `1` or other protocol.
    #
    # NOTE: Defaults to `0`.
    data_store: 0

    # A boolean value that controls if server should be ejected temporarily when
    # it fails consecutively server_failure_limit times.
    #
    # NOTE: Defaults to false.
    auto_eject_hosts: false

    #Â The timeout value in ms to wait for before retrying on a temporarily
    # ejected server, when auto_eject_host is set to `true`.
    #
    # NOTE: Defaults to `30000` ms.
    server_retry_timeout: 30000

    # The number of consecutive failures on a server that would lead to it being
    # temporarily ejected when auto_eject_host is set to true. 
    #
    # NOTE: Defaults to `2`.
    server_failure_limit: 2

    # A list of local server address, port and weight for this server pool.
    #
    # NOTE: Must be of the form `name:port:weight` or `ip:port:weight`.
    servers:
        - redis-01:22122:1

    # Encrypted communication.
    #
    # NOTE: Must be one of `none`, `rack`, `datacenter`, or `all`.
    secure_server_option: 'all'

    # The address and port number for the REST endpoint and for accessing
    # statistics.
    stats_listen: 0.0.0.0:22222

    # Size of mbuf chunk in bytes.
    #
    # NOTE: Defaults to `16384` bytes.
    mbuf_size: 16384

    # Max number of messages to allocate.
    #
    # NOTE: Defaults to `200000`.
    max_msgs: 200000

    # The SSL public certificate file used by Dynomite for secure node-to-node
    # communication.
    #
    # NOTE: Defaults to `/etc/dynomitedb/dynomite.pem`.
    pem_key_file: '/etc/dynomitedb/dynomite.pem'

    # ------------------------------- TO CLEAN
    write_consistency: 'DC_QUORUM'
    read_consistency: 'DC_QUORUM'
    # conf: directive \"write_consistency:\"must be one of 'DC_ONE' 'DC_QUORUM' 'DC_SAFE_QUORUM'")

    # ------------------------------- BUG FROM HERE

    # Sets stats aggregation interval in ms.
    #
    # NOTE: Defaults to `30000` ms.
    # stats_interval: 30000
    # BUG HERE HERE HERE

    # A seed provider implementation to provide a list of seed nodes.
    # dyn_seed_provider: 5

    # A list of seed nodes in the format `address:port:rack:dc:tokens`.
    #
    # NOTE: Node that vnode is not supported yet.
    # dyn_seeds: ???

    # Enable gossip instead of static tokens.
    #
    # NOTE: Gossip is experimental. Default to `false`.
    # enable_gossip: false
    # BUG HERE HERE HERE
